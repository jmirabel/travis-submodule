language: cpp
sudo: required
os:
  - linux
  - osx
dist: trusty
addons:
  apt:
    packages: # Update dependencies on linux if in travis apt whitelist
      - libboost-test-dev
      - libboost-system-dev
      - libboost-thread-dev
      - libboost-filesystem-dev
      - libboost-program-options-dev
      - libtinyxml-dev
branches:
  only:
  - master
  - devel
compiler:
  - gcc
before_install:
  - git submodule --quiet update --init
  - export ROOT_DIR=`pwd`
  - export DEVEL_DIR="$ROOT_DIR/_travis"
  - export TRAVIS_SUBMODULE="$ROOT_DIR/.travis-submodule"        # Update this if you didn't use .travis-submodule

  - export APT_PACKAGES=""                                       # Install packages on linux.
  - export BREW_PACKAGES=""                                      # Install packages on OSX. (tinyxml, pkg-config and cmake are installed)

  - export EXTERNAL_DEPENDENCIES="doxygen libccd eigen3 octomap" # Update this, installed in this order
  - export HPP_DEPENDENCIES="hpp-util hpp-fcl"                   # Update this, installed in this order
install: ${TRAVIS_SUBMODULE}/install
script: ${TRAVIS_SUBMODULE}/script
after_failure: ${TRAVIS_SUBMODULE}/after_failure
